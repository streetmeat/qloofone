
> qloophone-backend@1.0.0 test:real
> ts-node src/__tests__/e2e/comprehensiveRealTest.ts 2

Generated 216 total combinations
ðŸš€ Starting Comprehensive Real Conversation Tests
================================================

API Keys: âœ… OPENAI_API_KEY, âœ… QLOO_API_KEY
Testing 216 entity combinations

Starting server...
[EntityCache] Loaded 2 entities from disk
[QLOO API] === Function handlers initialized ===
[QLOO API] API URL: https://hackathon.api.qloo.com
[QLOO API] API Key: Set
Server running on port 8082

[1/216] movie + movie â†’ movie... Server running on http://localhost:8082
Cache stats endpoint: http://localhost:8082/cache-stats
[Frontend] New WebSocket connection established
[SessionManager] New call connected: test-0-1753822312427
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-0-1753822312427, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-0-1753822312427
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-0-1753822312427
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-0-1753822312427
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-0-1753822312427: "I love The Matrix and Inception. What movie would you recommend?"
[Model] response.output_item.done for session: test-0-1753822312427
[Model] response.output_item.done for session: test-0-1753822312427
[Function] search_entity called
[2025-07-29T20:51:59.041Z] Starting function call: search_entity
Calling function: search_entity { query: 'Blade Runner 2049' }
[QLOO API] search_entity called with query: "Blade Runner 2049"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Blade%20Runner%202049
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Blade Runner 2049 (3A02361C-987B-4F7E-9AAD-071C3853AD92)
[2025-07-29T20:51:59.737Z] Function search_entity completed in 696ms
[Model] response.output_item.done for session: test-0-1753822312427
[Function] get_recommendation called
[2025-07-29T20:52:00.234Z] Starting function call: get_recommendation
Calling function: get_recommendation { entity_ids: '3A02361C-987B-4F7E-9AAD-071C3853AD92', take: 1 }
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 3A02361C-987B-4F7E-9AAD-071C3853AD92
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: undefined
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. War for the Planet of the Apes (score: 0.948)
[QLOO API]      Tags: Magenta TV, FXNow, dusk, gorilla, planet of the apes
[QLOO API]      Influence: Blade Runner 2049 (100%)
[QLOO API]   Taste Bridge: Strong match for Blade Runner 2049 fans (100% affinity)
[2025-07-29T20:52:01.790Z] Function get_recommendation completed in 1556ms
[Model] response.output_item.done for session: test-0-1753822312427
Function calls made: 1 searches, 1 recommendations
âœ… (18.2s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-0-1753822312427
[SessionManager] Active sessions: 0
[2/216] movie + movie â†’ music... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-1-1753822331625
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-1-1753822331625, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-1-1753822331625
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-1-1753822331625
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-1-1753822331625
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-1-1753822331625: "I love Pulp Fiction and The Godfather. What music would you recommend?"
[Model] response.output_item.done for session: test-1-1753822331625
[Model] response.output_item.done for session: test-1-1753822331625
[Function] search_entity called
[2025-07-29T20:52:17.031Z] Starting function call: search_entity
Calling function: search_entity { query: 'music with a cinematic and intense vibe' }
[QLOO API] search_entity called with query: "music with a cinematic and intense vibe"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=music%20with%20a%20cinematic%20and%20intense%20vibe
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Nathan Johnson with the Cinematic Underground (7C864F1E-7DAA-491E-BD46-7B39D5C343D4)
[2025-07-29T20:52:17.625Z] Function search_entity completed in 594ms
[Model] response.output_item.done for session: test-1-1753822331625
[Function] get_recommendation called
[2025-07-29T20:52:18.283Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '7C864F1E-7DAA-491E-BD46-7B39D5C343D4',
  output_type: 'urn:entity:album',
  take: 3
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 7C864F1E-7DAA-491E-BD46-7B39D5C343D4
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:album
[QLOO API] Insights failed, trying recommendations endpoint...
[QLOO API] Error: Both endpoints failed. Status: 400
[2025-07-29T20:52:18.755Z] Function get_recommendation completed in 472ms
[Model] response.output_item.done for session: test-1-1753822331625
Function calls made: 1 searches, 1 recommendations
âœ… (18.0s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-1-1753822331625
[SessionManager] Active sessions: 0
[3/216] movie + movie â†’ tv_show... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-2-1753822350676
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-2-1753822350676, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-2-1753822350676
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-2-1753822350676
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-2-1753822350676: "I love Star Wars and The Dark Knight. What tv show would you recommend?"
[Model] response.output_item.done for session: test-2-1753822350676
[Model] response.output_item.done for session: test-2-1753822350676
[Function] search_entity called
[2025-07-29T20:52:37.411Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Mandalorian TV show' }
[QLOO API] search_entity called with query: "The Mandalorian TV show"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Mandalorian%20TV%20show
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Tv show (860CC213-22F8-44DD-9F88-3256AE944E7D)
[2025-07-29T20:52:37.988Z] Function search_entity completed in 577ms
[Model] response.output_item.done for session: test-2-1753822350676
[Function] get_recommendation called
[2025-07-29T20:52:38.892Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '860CC213-22F8-44DD-9F88-3256AE944E7D',
  output_type: 'urn:entity:tv_show'
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 860CC213-22F8-44DD-9F88-3256AE944E7D
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:tv_show
[QLOO API] Insights failed, trying recommendations endpoint...
[QLOO API] Error: Both endpoints failed. Status: 400
[2025-07-29T20:52:39.333Z] Function get_recommendation completed in 441ms
[Model] response.output_item.done for session: test-2-1753822350676
Function calls made: 1 searches, 1 recommendations
âœ… (18.8s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-2-1753822350676
[SessionManager] Active sessions: 0
[4/216] movie + movie â†’ book... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-3-1753822370533
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-3-1753822370533, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-3-1753822370533
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-3-1753822370533
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-3-1753822370533: "I love Fight Club and Interstellar. What book would you recommend?"
[Model] response.output_item.done for session: test-3-1753822370533
[Model] response.output_item.done for session: test-3-1753822370533
[Function] search_entity called
[2025-07-29T20:52:55.780Z] Starting function call: search_entity
Calling function: search_entity { query: 'Dark Matter book' }
[QLOO API] search_entity called with query: "Dark Matter book"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Dark%20Matter%20book
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Dark Matter (5FEED5A6-A03D-48FE-B880-A0C9A59E7D22)
[2025-07-29T20:52:56.602Z] Function search_entity completed in 822ms
[Model] response.output_item.done for session: test-3-1753822370533
[Function] get_recommendation called
[2025-07-29T20:52:57.119Z] Starting function call: get_recommendation
Calling function: get_recommendation { entity_ids: '5FEED5A6-A03D-48FE-B880-A0C9A59E7D22', take: 1 }
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 5FEED5A6-A03D-48FE-B880-A0C9A59E7D22
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: undefined
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Recursion (score: 0.968)
[QLOO API]      Tags: Audiobook, Fantasy, Fiction, Adult, Time Travel
[QLOO API]      Influence: Dark Matter (100%)
[QLOO API]   Taste Bridge: Strong match for Dark Matter fans (100% affinity)
[2025-07-29T20:52:57.310Z] Function get_recommendation completed in 191ms
[Model] response.output_item.done for session: test-3-1753822370533
Function calls made: 1 searches, 1 recommendations
âœ… (17.8s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-3-1753822370533
[SessionManager] Active sessions: 0
[5/216] movie + movie â†’ podcast... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-4-1753822389370
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-4-1753822389370, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-4-1753822389370
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-4-1753822389370
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-4-1753822389370
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-4-1753822389370: "I love The Shawshank Redemption and Forrest Gump. What podcast would you recommend?"
[Model] response.output_item.done for session: test-4-1753822389370
[Model] response.output_item.done for session: test-4-1753822389370
[Function] search_entity called
[2025-07-29T20:53:16.360Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Moth podcast' }
[QLOO API] search_entity called with query: "The Moth podcast"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Moth%20podcast
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Moth Podcast (473B6F18-E05C-4176-A0D8-82C41FEDBD63)
[2025-07-29T20:53:16.839Z] Function search_entity completed in 479ms
[Model] response.output_item.done for session: test-4-1753822389370
[Function] search_entity called
[2025-07-29T20:53:17.624Z] Starting function call: search_entity
Calling function: search_entity { query: 'This American Life podcast' }
[QLOO API] search_entity called with query: "This American Life podcast"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=This%20American%20Life%20podcast
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: This American Life (BF80E280-A231-44B0-B98C-31C541F007E2)
[2025-07-29T20:53:17.898Z] Function search_entity completed in 274ms
[Model] response.output_item.done for session: test-4-1753822389370
[Function] get_recommendation called
[2025-07-29T20:53:18.998Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '473B6F18-E05C-4176-A0D8-82C41FEDBD63,BF80E280-A231-44B0-B98C-31C541F007E2',
  output_type: 'urn:entity:podcast',
  take: 1
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 473B6F18-E05C-4176-A0D8-82C41FEDBD63,BF80E280-A231-44B0-B98C-31C541F007E2
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:podcast
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Radiolab (score: 0.957)
[QLOO API]      Tags: Podcasts, Natural Sciences, Society & Culture, Documentary, Science
[QLOO API]      Influence: This American Life (100%)
[QLOO API]   Taste Bridge: Strong match for This American Life fans (100% affinity)
[2025-07-29T20:53:19.190Z] Function get_recommendation completed in 192ms
[Model] response.output_item.done for session: test-4-1753822389370
Function calls made: 2 searches, 1 recommendations
âœ… (19.2s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-4-1753822389370
[SessionManager] Active sessions: 0
[6/216] movie + movie â†’ video_game... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-5-1753822409631
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-5-1753822409631, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-5-1753822409631
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-5-1753822409631
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-5-1753822409631
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-5-1753822409631: "I love The Lord of the Rings and Goodfellas. What video game would you recommend?"
[Model] response.output_item.done for session: test-5-1753822409631
[Model] response.output_item.done for session: test-5-1753822409631
[Function] search_entity called
[2025-07-29T20:53:35.197Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Witcher 3: Wild Hunt' }
[QLOO API] search_entity called with query: "The Witcher 3: Wild Hunt"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Witcher%203%3A%20Wild%20Hunt
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Witcher 3: Wild Hunt (33B4926B-F0D2-445B-B6F2-33B17DBBF8EC)
[2025-07-29T20:53:35.978Z] Function search_entity completed in 781ms
[Model] response.output_item.done for session: test-5-1753822409631
[Function] search_entity called
[2025-07-29T20:53:36.647Z] Starting function call: search_entity
Calling function: search_entity { query: 'Red Dead Redemption 2' }
[QLOO API] search_entity called with query: "Red Dead Redemption 2"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Red%20Dead%20Redemption%202
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Red Dead Redemption 2 (0ED6691B-1F06-46D7-8F17-DB18826A5D0F)
[2025-07-29T20:53:37.278Z] Function search_entity completed in 631ms
[Model] response.output_item.done for session: test-5-1753822409631
[Function] get_recommendation called
[2025-07-29T20:53:38.396Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '33B4926B-F0D2-445B-B6F2-33B17DBBF8EC,0ED6691B-1F06-46D7-8F17-DB18826A5D0F',
  output_type: 'urn:entity:videogame',
  take: 1
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 33B4926B-F0D2-445B-B6F2-33B17DBBF8EC,0ED6691B-1F06-46D7-8F17-DB18826A5D0F
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:videogame
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Red Dead Online (score: 0.875)
[QLOO API]      Tags: Open-World Action, Video Games Produced By Dan Houser, Hunting In Video Games, Red Dead Redemption 2, Video Games Set In The 1890s
[QLOO API]      Influence: Red Dead Redemption 2 (56%), The Witcher 3: Wild Hunt (44%)
[QLOO API]   Taste Bridge: Bridges Red Dead Redemption 2 and The Witcher 3: Wild Hunt preferences equally
[2025-07-29T20:53:38.573Z] Function get_recommendation completed in 177ms
[Model] response.output_item.done for session: test-5-1753822409631
Function calls made: 2 searches, 1 recommendations
âœ… (18.4s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-5-1753822409631
[SessionManager] Active sessions: 0
[7/216] movie + music â†’ movie... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-6-1753822429091
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-6-1753822429091, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-6-1753822429091
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-6-1753822429091
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-6-1753822429091: "I love The Silence of the Lambs and The Beatles. What movie would you recommend?"
[Model] response.output_item.done for session: test-6-1753822429091
[Function] search_entity called
[2025-07-29T20:53:53.747Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Silence of the Lambs' }
[QLOO API] search_entity called with query: "The Silence of the Lambs"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Silence%20of%20the%20Lambs
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Silence of the Lambs (00E45707-AE31-4215-A98D-56F427B28672)
[2025-07-29T20:53:54.354Z] Function search_entity completed in 607ms
[Model] response.output_item.done for session: test-6-1753822429091
[Function] search_entity called
[2025-07-29T20:53:55.070Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Beatles' }
[QLOO API] search_entity called with query: "The Beatles"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Beatles
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Beatles (996272B0-CB79-48D3-8B83-8ED34F2DE9AF)
[2025-07-29T20:53:55.311Z] Function search_entity completed in 241ms
[Model] response.output_item.done for session: test-6-1753822429091
[Function] get_recommendation called
[2025-07-29T20:53:56.294Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '00E45707-AE31-4215-A98D-56F427B28672,996272B0-CB79-48D3-8B83-8ED34F2DE9AF',
  output_type: 'urn:entity:movie',
  take: 1
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 00E45707-AE31-4215-A98D-56F427B28672,996272B0-CB79-48D3-8B83-8ED34F2DE9AF
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:movie
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Into the Wild (score: 0.937)
[QLOO API]      Tags: snow adventure, Vudu, Amazon Prime Video, solitude, river patrol
[QLOO API]      Influence: The Silence of the Lambs (52%), The Beatles (48%)
[QLOO API]   Taste Bridge: Bridges The Silence of the Lambs and The Beatles preferences equally
[2025-07-29T20:53:57.896Z] Function get_recommendation completed in 1602ms
[Model] response.output_item.done for session: test-6-1753822429091
Function calls made: 2 searches, 1 recommendations
âœ… (18.9s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-6-1753822429091
[SessionManager] Active sessions: 0
[8/216] movie + music â†’ music... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-7-1753822449033
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-7-1753822449033, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-7-1753822449033
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-7-1753822449033
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-7-1753822449033
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-7-1753822449033: "I love Schindler's List and Radiohead. What music would you recommend?"
[Model] response.output_item.done for session: test-7-1753822449033
Function calls made: 0 searches, 0 recommendations
âœ… (17.8s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-7-1753822449033
[SessionManager] Active sessions: 0
[9/216] movie + music â†’ tv_show... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-8-1753822467886
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-8-1753822467886, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-8-1753822467886
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-8-1753822467886
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-8-1753822467886
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-8-1753822467886: "I love 12 Angry Men and Pink Floyd. What tv show would you recommend?"
[Model] response.output_item.done for session: test-8-1753822467886
[Model] response.output_item.done for session: test-8-1753822467886
[Function] search_entity called
[2025-07-29T20:54:32.573Z] Starting function call: search_entity
Calling function: search_entity { query: '12 Angry Men' }
[QLOO API] search_entity called with query: "12 Angry Men"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=12%20Angry%20Men
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: 12 Angry Men (5E966F85-FB51-41A4-B5E2-CDC132B502F8)
[2025-07-29T20:54:33.230Z] Function search_entity completed in 657ms
[Model] response.output_item.done for session: test-8-1753822467886
[Function] search_entity called
[2025-07-29T20:54:33.609Z] Starting function call: search_entity
Calling function: search_entity { query: 'Pink Floyd' }
[QLOO API] search_entity called with query: "Pink Floyd"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Pink%20Floyd
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Pink Floyd (62947437-2EC8-4C46-BE25-677E266DEB78)
[2025-07-29T20:54:33.825Z] Function search_entity completed in 216ms
[Model] response.output_item.done for session: test-8-1753822467886
[Function] get_recommendation called
[2025-07-29T20:54:34.452Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '5E966F85-FB51-41A4-B5E2-CDC132B502F8,62947437-2EC8-4C46-BE25-677E266DEB78',
  output_type: 'urn:entity:tv_show'
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 5E966F85-FB51-41A4-B5E2-CDC132B502F8,62947437-2EC8-4C46-BE25-677E266DEB78
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:tv_show
[QLOO API] Response: 200, found 5 results
[QLOO API] Returning 3 recommendations with explainability
[QLOO API]   1. Incorporated (score: 0.931)
[QLOO API]      Tags: Drama, Apple TV, Crime, climate change, dystopia
[QLOO API]      Influence: Pink Floyd (52%), 12 Angry Men (48%)
[QLOO API]   2. Falling Water (score: 0.927)
[QLOO API]      Tags: Amazon Video, Thriller, Telia Play, magical realism, stranger
[QLOO API]      Influence: Pink Floyd (52%), 12 Angry Men (48%)
[QLOO API]   3. Good Behavior (score: 0.926)
[QLOO API]      Tags: Thriller, UPC TV, professional killer, Mystery, assassin
[QLOO API]      Influence: Pink Floyd (50%), 12 Angry Men (50%)
[QLOO API]   Taste Bridge: Bridges Pink Floyd and 12 Angry Men preferences equally
[2025-07-29T20:54:34.971Z] Function get_recommendation completed in 519ms
[Model] response.output_item.done for session: test-8-1753822467886
Function calls made: 2 searches, 1 recommendations
âœ… (17.7s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-8-1753822467886
[SessionManager] Active sessions: 0
[10/216] movie + music â†’ book... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-9-1753822486619
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-9-1753822486619, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-9-1753822486619
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-9-1753822486619
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-9-1753822486619
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-9-1753822486619: "I love One Flew Over the Cuckoo's Nest and Led Zeppelin. What book would you recommend?"
[Model] response.output_item.done for session: test-9-1753822486619
Function calls made: 0 searches, 0 recommendations
âœ… (17.8s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-9-1753822486619
[SessionManager] Active sessions: 0
[11/216] movie + music â†’ podcast... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-10-1753822505479
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-10-1753822505479, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-10-1753822505479
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-10-1753822505479
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-10-1753822505479
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-10-1753822505479: "I love Se7en and Daft Punk. What podcast would you recommend?"
[Model] response.output_item.done for session: test-10-1753822505479
[Model] response.output_item.done for session: test-10-1753822505479
[Function] search_entity called
[2025-07-29T20:55:09.752Z] Starting function call: search_entity
Calling function: search_entity { query: 'True Crime Podcast' }
[QLOO API] search_entity called with query: "True Crime Podcast"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=True%20Crime%20Podcast
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: True Crime Podcast (D265929E-4AA6-4888-A05C-299A488BFB37)
[2025-07-29T20:55:10.287Z] Function search_entity completed in 535ms
[Model] response.output_item.done for session: test-10-1753822505479
[Function] search_entity called
[2025-07-29T20:55:10.642Z] Starting function call: search_entity
Calling function: search_entity { query: 'Electronic Music Podcast' }
[QLOO API] search_entity called with query: "Electronic Music Podcast"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Electronic%20Music%20Podcast
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Electronic Music (986348B2-57FE-4938-91BA-26B905D9CE6D)
[2025-07-29T20:55:10.917Z] Function search_entity completed in 275ms
[Model] response.output_item.done for session: test-10-1753822505479
[Function] get_recommendation called
[2025-07-29T20:55:11.487Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  tag_ids: 'D265929E-4AA6-4888-A05C-299A488BFB37,986348B2-57FE-4938-91BA-26B905D9CE6D',
  take: 1
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: none
[QLOO API]   Tag IDs: D265929E-4AA6-4888-A05C-299A488BFB37,986348B2-57FE-4938-91BA-26B905D9CE6D
[QLOO API]   Output type: undefined
[QLOO API]   Using tag signals: D265929E-4AA6-4888-A05C-299A488BFB37,986348B2-57FE-4938-91BA-26B905D9CE6D
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Alter Kahn und junge Liebe (score: 0.765)
[QLOO API]      Tags: male female relationship, love, shipping, Romance, 1950s Romance Films
[2025-07-29T20:55:11.909Z] Function get_recommendation completed in 422ms
[Model] response.output_item.done for session: test-10-1753822505479
Function calls made: 2 searches, 1 recommendations
âœ… (17.6s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-10-1753822505479
[SessionManager] Active sessions: 0
[12/216] movie + music â†’ video_game... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-11-1753822524127
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-11-1753822524127, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-11-1753822524127
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-11-1753822524127
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-11-1753822524127
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-11-1753822524127: "I love The Usual Suspects and Kendrick Lamar. What video game would you recommend?"
[Model] response.output_item.done for session: test-11-1753822524127
[Model] response.output_item.done for session: test-11-1753822524127
[Function] search_entity called
[2025-07-29T20:55:29.156Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Last of Us' }
[QLOO API] search_entity called with query: "The Last of Us"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Last%20of%20Us
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Last of Us (6CA05BAF-DC37-45D4-BED4-1BC9EA0B9B03)
[2025-07-29T20:55:29.872Z] Function search_entity completed in 716ms
[Model] response.output_item.done for session: test-11-1753822524127
[Function] get_recommendation called
[2025-07-29T20:55:31.448Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: '6CA05BAF-DC37-45D4-BED4-1BC9EA0B9B03',
  output_type: 'urn:entity:video_game',
  take: 1
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: 6CA05BAF-DC37-45D4-BED4-1BC9EA0B9B03
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:video_game
[QLOO API] Response: 200, found 1 results
[QLOO API] Returning 1 recommendations with explainability
[QLOO API]   1. Days Gone (score: 0.916)
[QLOO API]      Tags: Open-World Action, Survival Video Games, Third-person Shooters, Video Games Set In Oregon, Bend Studio Games
[QLOO API]      Influence: The Last of Us (100%)
[QLOO API]   Taste Bridge: Strong match for The Last of Us fans (100% affinity)
[2025-07-29T20:55:31.633Z] Function get_recommendation completed in 185ms
[Model] response.output_item.done for session: test-11-1753822524127
Function calls made: 1 searches, 1 recommendations
âœ… (17.7s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-11-1753822524127
[SessionManager] Active sessions: 0
[13/216] movie + tv_show â†’ movie... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-12-1753822542872
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-12-1753822542872, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-12-1753822542872
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-12-1753822542872
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-12-1753822542872
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-12-1753822542872: "I love Leon: The Professional and Breaking Bad. What movie would you recommend?"
[Model] response.output_item.done for session: test-12-1753822542872
Function calls made: 0 searches, 0 recommendations
âœ… (17.7s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-12-1753822542872
[SessionManager] Active sessions: 0
[14/216] movie + tv_show â†’ music... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-13-1753822561611
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-13-1753822561611, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-13-1753822561611
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-13-1753822561611
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-13-1753822561611
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-13-1753822561611: "I love Spirited Away and The Wire. What music would you recommend?"
[Model] response.output_item.done for session: test-13-1753822561611
Function calls made: 0 searches, 0 recommendations
âœ… (17.9s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-13-1753822561611
[SessionManager] Active sessions: 0
[15/216] movie + tv_show â†’ tv_show... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-14-1753822580562
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-14-1753822580562, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-14-1753822580562
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-14-1753822580562
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-14-1753822580562
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-14-1753822580562: "I love The Prestige and Game of Thrones. What tv show would you recommend?"
[Model] response.output_item.done for session: test-14-1753822580562
[Model] response.output_item.done for session: test-14-1753822580562
[Function] search_entity called
[2025-07-29T20:56:24.960Z] Starting function call: search_entity
Calling function: search_entity { query: 'The Prestige' }
[QLOO API] search_entity called with query: "The Prestige"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=The%20Prestige
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: The Prestige (C79652B1-FCF5-43BA-A277-3A8CCED3B45F)
[2025-07-29T20:56:25.509Z] Function search_entity completed in 549ms
[Model] response.output_item.done for session: test-14-1753822580562
[Function] search_entity called
[2025-07-29T20:56:25.900Z] Starting function call: search_entity
Calling function: search_entity { query: 'Game of Thrones' }
[QLOO API] search_entity called with query: "Game of Thrones"
[QLOO API] [CACHE MISS] Calling: GET https://hackathon.api.qloo.com/search?query=Game%20of%20Thrones
[QLOO API] [QLOO API] Response: 200, found 20 results
[QLOO API] [QLOO API] Returning: Game of Thrones (8FAC3960-D869-41CD-AC73-F85B67476AA4)
[2025-07-29T20:56:26.157Z] Function search_entity completed in 257ms
[Model] response.output_item.done for session: test-14-1753822580562
[Function] get_recommendation called
[2025-07-29T20:56:27.186Z] Starting function call: get_recommendation
Calling function: get_recommendation {
  entity_ids: 'C79652B1-FCF5-43BA-A277-3A8CCED3B45F,8FAC3960-D869-41CD-AC73-F85B67476AA4',
  output_type: 'urn:entity:tv_show',
  take: 3
}
[QLOO API] get_recommendation called
[QLOO API]   Entity IDs: C79652B1-FCF5-43BA-A277-3A8CCED3B45F,8FAC3960-D869-41CD-AC73-F85B67476AA4
[QLOO API]   Tag IDs: none
[QLOO API]   Output type: urn:entity:tv_show
[QLOO API] Response: 200, found 3 results
[QLOO API] Returning 3 recommendations with explainability
[QLOO API]   1. Dracula (score: 0.941)
[QLOO API]      Tags: Horror, unrequited love, MagentaTV, Apple TV, dracula
[QLOO API]      Influence: The Prestige (54%), Game of Thrones (46%)
[QLOO API]   2. Once Upon a Time in Wonderland (score: 0.935)
[QLOO API]      Tags: anthropomorphic animal, crown, place name in title, rabbit, journey
[QLOO API]      Influence: The Prestige (54%), Game of Thrones (46%)
[QLOO API]   3. Outlander (score: 0.932)
[QLOO API]      Tags: army nurse, Claro video, historical fiction, time travel romance, Apple TV
[QLOO API]      Influence: The Prestige (51%), Game of Thrones (49%)
[QLOO API]   Taste Bridge: Bridges The Prestige and Game of Thrones preferences equally
[2025-07-29T20:56:27.707Z] Function get_recommendation completed in 521ms
[Model] response.output_item.done for session: test-14-1753822580562
Function calls made: 2 searches, 1 recommendations
âœ… (17.6s)
[Frontend] Connection closed
[SessionManager] Call disconnected: test-14-1753822580562
[SessionManager] Active sessions: 0
[16/216] movie + tv_show â†’ book... [Frontend] New WebSocket connection established
[SessionManager] New call connected: test-15-1753822599207
[SessionManager] Active sessions: 1
[SessionManager] Twilio connected for test-15-1753822599207, starting OpenAI session...
[OpenAI] Loading 4 functions: search_entity, search_locality, get_recommendation, get_fan_venues
[OpenAI] Sending session config: {
  voice: 'ash',
  tools: 4,
  toolNames: 'search_entity, search_locality, get_recommendation, get_fan_venues',
  instructionsLength: 1922
}
[Model] session.created for session: test-15-1753822599207
[Session] Created with voice: alloy tools: 0
[Model] session.updated for session: test-15-1753822599207
[Session] Updated - tools: 4
[Session] Triggering greeting with 4 tools confirmed loaded
[Model] response.output_item.done for session: test-15-1753822599207
Waiting for OpenAI to process...
[Frontend] Broadcasted to 1 active sessions
[Frontend] Broadcasted to 1 active sessions
[User Transcription] test-15-1753822599207: "I love Memento and The Office. What book would you recommend?"
[Model] response.output_item.done for session: test-15-1753822599207
